<div class="container">
  <div class="heading">
    <h3>Photo <span>Galary</span></h3>
  </div>
  <div class="box">
    <div class="dream" id="dream-1">
      <%= render 'image_data', images: @res['results'].first(10) %>
    </div>
    <div class="dream" id="dream-2">
      <%= render 'image_data', images: @res['results'].first(20).last(10) %>
    </div>
    <div class="dream" id="dream-3">
      <%= render 'image_data', images: @res['results'].first(30).last(10) %>
    </div>
  </div>
  <div class="btn">
    <button onclick="load_more()">More</button>
  </div>

  <script type="text/javascript" charset="utf-8">
      var page = 2
      function load_more() {
          $.ajax({
              url: `<%= "#{url_path}?query=#{params[:query]}"%>&page=${page}`,
              type: "get",
              dataType: "script",
              beforeSend: function (){
                  $('.ajax-loader').show();
              },
              success: function (data) {
                  console.log('success');
              }
          });
      }
  </script>
</div>